{
  "version": 3,
  "sources": ["../src/plugin_kansuji.mjs"],
  "sourcesContent": ["// @ts-nocheck\nconst PluginKansuji = {\n  'meta': {\n    type: 'const',\n    value: {\n      pluginName: 'plugin_kansuji', // \u30D7\u30E9\u30B0\u30A4\u30F3\u306E\u540D\u524D\n      description: '\u6F22\u6570\u5B57\u3092\u4F7F\u3046\u305F\u3081\u306E\u30D7\u30E9\u30B0\u30A4\u30F3', // \u8AAC\u660E\n      pluginVersion: '3.6.0', // \u30D7\u30E9\u30B0\u30A4\u30F3\u306E\u30D0\u30FC\u30B8\u30E7\u30F3\n      nakoRuntime: ['wnako'], // \u5BFE\u8C61\u30E9\u30F3\u30BF\u30A4\u30E0\n      nakoVersion: '3.6.0' // \u8981\u6C42\u306A\u3067\u3057\u3053\u30D0\u30FC\u30B8\u30E7\u30F3\n    }\n  },\n\n  '\u521D\u671F\u5316': {\n    type: 'func',\n    josi: [],\n    pure: true,\n    fn: function (sys) {\n    }\n  },\n\n  // @\u6F22\u6570\u5B57\u95A2\u9023\n  '\u6F22\u6570\u5B57': { // @\u5F15\u6570\u3092\u6570\u5B57\u3068\u89E3\u91C8\u3057\u3066\u6F22\u6570\u5B57\u306E\u6587\u5B57\u5217\u3092\u8FD4\u3059 // @\u304B\u3093\u3059\u3046\u3058\n    type: 'func',\n    josi: [['\u3092', '\u306E']],\n    pure: true,\n    fn: function (input) {\n      function preprocesser (input) {\n        // eslint-disable-next-line camelcase\n        function if_number_is_exponent (input) {\n          const match = input.match(/[0-9]*\\.?[0-9]+[eE][-+]?[0-9]+/)\n          if (match && match[0] === input) {\n            const base = input.match(/[0-9]*\\.?[0-9]+[eE]/)[0].slice(0, -1)\n            const exponent = input.match(/[eE][-+]?[0-9]+/)[0].slice(1)\n            // eslint-disable-next-line no-inner-declarations\n            function movepoint (base, exponent) {\n              const sign = exponent[0]\n              const curpointidx = base.includes('.') ? base.indexOf('.') : base.length\n              const idx = sign === '-' ? curpointidx - parseInt(exponent.slice(1)) : curpointidx + parseInt(exponent.match(/[0-9]+$/)[0])\n              function strIns (str, idx, val) {\n                return str.slice(0, idx) + val + str.slice(idx)\n              }\n              if (idx > 0) {\n                if (base.length - curpointidx > idx) {\n                  return strIns(base.replace('.', ''), idx, '.')\n                } else {\n                  if (base.includes('.')) {\n                    return base.replace('.', '') + '0'.repeat(idx - base.length + curpointidx)\n                  } else {\n                    return base + '0'.repeat(idx - base.length + curpointidx - 1)\n                  }\n                }\n              } else {\n                return '0.' + '0'.repeat(-idx) + base.replace('.', '')\n              }\n            }\n            input = movepoint(base, exponent)\n          }\n          return input\n        }\n        function asciify (input) { // \u5168\u89D2\u6570\u5B57\u3092\u534A\u89D2\u6570\u5B57\u306B\n          return input.replace(/[\uFF10-\uFF19]/g, s => {\n            return String.fromCharCode(s.charCodeAt(0) - 65248)\n          })\n        }\n        input = asciify(input)\n        if (Number.isNaN(Number(input))) { throw new Error('\u300E\u6F22\u6570\u5B57\u300F\u547D\u4EE4\u306E\u4E2D\u306B\u7121\u52B9\u306A\u6587\u5B57\u304C\u542B\u307E\u308C\u3066\u3044\u307E\u3059\u3002') }\n        const output = if_number_is_exponent(input.toString())\n        // eslint-disable-next-line no-loss-of-precision\n        if (output > BigInt(999999999999999999999999999999999999999999999999999999999999999999999999)) { throw new Error('\u300E\u6F22\u6570\u5B57\u300F\u547D\u4EE4\u306E\u4E2D\u306B\u542B\u3081\u3089\u308C\u308B\u6570\u306E\u5927\u304D\u3055\u3092\u8D85\u3048\u3066\u3044\u307E\u3059\u3002') }\n        return output\n      }\n      input = preprocesser(String(input))\n      function separater (str) {\n        let isminus = str.includes('.')\n        return str.split('').reverse().reduce((acc, cur) => {\n          if (cur === '.') {\n            isminus = false\n            acc.splice(1, 0, '.')\n            return acc\n          } else if (isminus) {\n            acc.splice(1, 0, cur)\n            return acc\n          }\n          if (acc[0].length === \u8EF8\u6570\u5B57.length) {\n            acc.unshift([])\n          }\n          acc[0].unshift(cur)\n          return acc\n        }, [[]])\n      }\n      function converter (arr) {\n        function replacer (str) {\n          return \u57FA\u672C\u6F22\u6570\u5B57[\u57FA\u672C\u7B97\u7528\u6570\u5B57.indexOf(str)]\n        }\n        let adjuster = 0\n        const result = arr.reverse().reduce((acc, cur, idx) => {\n          if (typeof cur === 'string') {\n            if (cur === '.') {\n              acc = '\u30FB' + acc\n              adjuster = idx + 1\n            } else {\n              acc = replacer(cur) + acc\n            }\n          } else {\n            const unit = cur.reduce((acc, cur, idx, src) => {\n              if (cur === '0') {\n                return acc\n              } else if (cur === '1' && \u8EF8\u6570\u5B57[src.length - 1 - idx] !== '') {\n                return acc + \u8EF8\u6570\u5B57[src.length - 1 - idx]\n              } else {\n                return acc + replacer(cur) + \u8EF8\u6570\u5B57[src.length - 1 - idx]\n              }\n            }, '')\n            acc = (unit ? unit + \u5358\u4F4D\u6570\u5B57[idx - adjuster] : '') + acc\n          }\n          return acc\n        }, '')\n        return result[0] === '\u30FB' ? '\u96F6' + result : result\n      }\n      // \u30D5\u30E9\u30B0\u3092\u899A\u3048\u3066\u304A\u304F #874\n      let flag = ''\n      if (input.charAt(0) === '+' || input.charAt(0) === '-') {\n        flag = input.charAt(0)\n        input = input.substr(1)\n      }\n      let res = converter(separater(input))\n      if (res === '') { res = '\u96F6' }\n      return flag + res\n    }\n  },\n  '\u7B97\u7528\u6570\u5B57': { // @\u5F15\u6570\u3092\u6F22\u6570\u5B57\u3068\u89E3\u91C8\u3057\u3066\u6570\u5024\u3092\u8FD4\u3059 // @\u3055\u3093\u3088\u3046\u3059\u3046\u3058\n    type: 'func',\n    josi: [['\u3092', '\u306E']],\n    pure: true,\n    fn: function (input) {\n      function converter (src) {\n        const multibytes = \u5358\u4F4D\u6570\u5B57.filter(a => a.length > 1)\n        const result = []\n        for (let idx = 0; idx < src.length; idx++) {\n          const cur = src.slice(idx, idx + 1)\n          const \u6307\u6570 = \u5358\u4F4D\u6570\u5B57.includes(cur) ? cur : multibytes.find(v => v === src.slice(idx, idx + v.length))\n          const \u4F4D = \u8EF8\u6570\u5B57.includes(cur) ? cur : null\n          const \u5E95 = \u57FA\u672C\u6F22\u6570\u5B57.includes(cur) ? cur : null\n          if (\u6307\u6570) {\n            if (\u6307\u6570.length > 1) {\n              idx += \u6307\u6570.length - 1\n            }\n            result.push(BigInt('1' + '0'.repeat(4 * \u5358\u4F4D\u6570\u5B57.indexOf(\u6307\u6570))))\n          } else if (\u4F4D) {\n            result.push(10 ** (\u8EF8\u6570\u5B57.indexOf(\u4F4D)))\n          } else if (\u5E95) {\n            result.push(\u57FA\u672C\u6F22\u6570\u5B57.indexOf(\u5E95))\n          } else if (cur === '\u30FB') {\n            result.push('.')\n          } else if (cur === '\u96F6') {\n            result.push('0')\n          } else {\n            throw new Error('\u300E\u7B97\u7528\u6570\u5B57\u300F\u547D\u4EE4\u306E\u4E2D\u306B\u7121\u52B9\u306A\u6587\u5B57\u304C\u542B\u307E\u308C\u3066\u3044\u307E\u3059\u3002')\n          }\n        }\n        return result\n      }\n      function separater (arr) {\n        let base = []\n        let unit = []\n        let isminus = false\n        return arr.reduce((acc, cur, idx) => {\n          if (cur === '.') {\n            if (base.length === 0) { base.push(0, 1) }\n            if (base.length === 1) { base.push(1) }\n            unit.push(base)\n            base = []\n            acc.push(unit)\n            acc.push('.')\n            unit = []\n            isminus = true\n          } else if (isminus) {\n            acc.push(String(cur))\n          } else if (cur > 1000) {\n            if (base.length === 0) { base.push(0, 1) }\n            if (base.length === 1) { base.push(1) }\n            unit.push(base)\n            base = []\n            unit.push(cur)\n            acc.push(unit)\n            unit = []\n          } else if (cur >= 10 && cur <= 1000) {\n            if (base.length === 0) { base.push(1) }\n            base.push(cur)\n            unit.push(base)\n            base = []\n          } else if (cur < 10) {\n            base.push(cur)\n          }\n          if (idx + 1 === arr.length && isminus === false) {\n            if (base.length === 1) {\n              base.push(1)\n              unit.push(base)\n            }\n            acc.push(unit)\n          }\n          return acc\n        }, [])\n      }\n      function calculator (arr) {\n        return arr.reduce((acc, cur, idx) => {\n          return typeof cur === 'string'\n            ? acc + cur\n            : acc + cur.reduce((acc, cur, idx) => {\n              return cur > 1000 ? acc * cur : acc + BigInt(cur[0] * cur[1])\n            }, BigInt(0))\n        }, BigInt(0))\n      }\n      const tmp = calculator(separater(converter(input.toString())))\n      return tmp > Number.MAX_SAFE_INTEGER ? tmp : Number(tmp)\n    }\n  }\n}\n\nconst \u5358\u4F4D\u6570\u5B57 = [\n  '', '\u4E07', '\u5104', '\u5146', '\u4EAC', '\u5793', '\uD855\uDF71', '\u7A63', '\u6E9D', '\u6F97', '\u6B63',\n  '\u8F09', '\u6975', '\u6052\u6CB3\u6C99', '\u963F\u50E7\u7947', '\u90A3\u7531\u4ED6', '\u4E0D\u53EF\u601D\u8B70', '\u7121\u91CF\u5927\u6570'\n]\nconst \u8EF8\u6570\u5B57 = [\n  '', '\u5341', '\u767E', '\u5343'\n]\nconst \u57FA\u672C\u7B97\u7528\u6570\u5B57 = '0123456789'.split('')\nconst \u57FA\u672C\u6F22\u6570\u5B57 = '\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D'.split('')\n\nexport default PluginKansuji\n\n// script\u30BF\u30B0\u3067\u53D6\u308A\u8FBC\u3093\u3060\u6642\u3001\u81EA\u52D5\u3067\u767B\u9332\u3059\u308B\nif (typeof (navigator) === 'object' && typeof (navigator.nako3) === 'object') { navigator.nako3.addPluginObject('PluginKansuji', PluginKansuji) }\n"],
  "mappings": "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",
  "names": ["PluginKansuji", "sys", "input", "preprocesser", "if_number_is_exponent", "match", "movepoint", "base", "exponent", "sign", "curpointidx", "idx", "strIns", "str", "val", "asciify", "s", "output", "separater", "isminus", "acc", "cur", "\u8EF8\u6570\u5B57", "converter", "arr", "replacer", "\u57FA\u672C\u6F22\u6570\u5B57", "\u57FA\u672C\u7B97\u7528\u6570\u5B57", "adjuster", "result", "unit", "src", "\u5358\u4F4D\u6570\u5B57", "flag", "res", "multibytes", "a", "\u6307\u6570", "v", "\u4F4D", "\u5E95", "calculator", "tmp", "plugin_kansuji_default"]
}
